import matplotlib.pyplot as plt
import numpy as np


def best_effort(save):
    y_5mb = np.array(
        [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9995, 1.0000, 0.9990, 0.9990, 0.9581,
         0.9686, 0.9152, 0.9448, 0.9352, 0.8438, 0.8267, 0.8386, 0.7148, 0.7614, 0.5838, 0.5919, 0.4257, 0.3933, 0.3886,
         0.3081, 0.2514, 0.1262, 0.1586, 0.0633, 0.0833, 0.0471, 0.0305, 0.0400, 0.0210, 0.0186, 0.0152, 0.0171, 0.0090,
         0.0067, 0.0024, 0.0019, 0.0014, 0.0014, 0.0000, 0.0000, 0.0000])
    y_25mb = np.array(
        [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9999, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9999,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9900, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 0.9897, 0.9900, 0.9999, 0.9998, 0.9900, 0.9997, 1.0000, 0.9997, 0.9999, 0.9998, 0.9898, 1.0000,
         0.9997, 0.9999, 0.9898, 0.9997, 0.9799, 0.9899, 0.9798, 0.9897, 0.9894, 0.9997, 0.9998, 1.0000, 0.9998, 0.9796,
         0.9894, 0.9898, 0.9900, 0.9899, 0.9588, 0.9989, 0.9684, 0.9784, 0.9887, 0.9685, 0.9887, 0.9888, 0.9775, 0.9684,
         0.9673, 0.9556, 0.9740, 0.9766, 0.9554, 0.9373, 0.9550, 0.9246, 0.9451, 0.9539, 0.9323, 0.9446, 0.9237, 0.9230,
         0.8821, 0.8819, 0.9294, 0.8848, 0.8544, 0.8907, 0.8537, 0.8560, 0.8613, 0.8208, 0.7748, 0.8843, 0.7563, 0.8108,
         0.7401, 0.7995, 0.8289, 0.7634, 0.6887, 0.7375, 0.7648, 0.6922, 0.6605, 0.6305, 0.6380, 0.6273, 0.5539, 0.5536,
         0.5641, 0.5438, 0.4906, 0.5430, 0.5111, 0.5226, 0.4372, 0.3892, 0.3572, 0.3562, 0.3977, 0.2898, 0.3410, 0.3508,
         0.2874, 0.2588, 0.2882, 0.2564, 0.2783, 0.2409, 0.2557, 0.1945, 0.2237, 0.2251, 0.1877, 0.1913, 0.1716, 0.1658,
         0.1537, 0.1320, 0.1661, 0.1074, 0.1461, 0.0830, 0.0850, 0.1224, 0.1087, 0.0766, 0.0924, 0.0971, 0.0877, 0.0773,
         0.0801, 0.0757, 0.0829, 0.0569, 0.0524, 0.0508, 0.0553, 0.0436, 0.0485, 0.0422, 0.0296, 0.0251, 0.0330, 0.0293,
         0.0319, 0.0195, 0.0375, 0.0242, 0.0207, 0.0190, 0.0188, 0.0169, 0.0171, 0.0094, 0.0207, 0.0121, 0.0107, 0.0043,
         0.0104, 0.0188, 0.0147, 0.0086, 0.0077, 0.0127, 0.0076, 0.0084, 0.0127, 0.0051, 0.0053, 0.0049, 0.0065, 0.0044,
         0.0054, 0.0038, 0.0016, 0.0043, 0.0029, 0.0012, 0.0022, 0.0016, 0.0017, 0.0012, 0.0021, 0.0011, 0.0016, 0.0000,
         0.0004, 0.0008, 0.0000, 0.0005, 0.0000, 0.0003, 0.0002, 0.0001, 0.0000, 0.0004, 0.0000, 0.0001, 0.0000, 0.0002,
         0.0003, 0.0002, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000])
    y_125mb = np.array(
        [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9965, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 0.9965, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9999, 0.9999, 1.0000,
         0.9998, 1.0000, 1.0000, 0.9965, 1.0000, 1.0000, 0.9999, 0.9999, 0.9999, 0.9999, 0.9999, 0.9964, 0.9964, 1.0000,
         0.9861, 0.9997, 0.9999, 0.9996, 0.9996, 0.9999, 0.9997, 0.9925, 0.9994, 0.9995, 0.9962, 0.9689, 0.9992, 0.9962,
         0.9763, 0.9794, 0.9919, 0.9890, 0.9859, 0.9720, 0.9878, 0.9554, 0.9877, 0.9808, 0.9682, 0.9572, 0.9285, 0.9642,
         0.9522, 0.9345, 0.9199, 0.9794, 0.9149, 0.9009, 0.9322, 0.8926, 0.8876, 0.9044, 0.8788, 0.8457, 0.8474, 0.8845,
         0.8218, 0.8104, 0.8395, 0.8552, 0.8578, 0.7929, 0.7770, 0.7581, 0.7059, 0.6933, 0.6790, 0.6986, 0.7325, 0.6721,
         0.6851, 0.6374, 0.5850, 0.5750, 0.5201, 0.5197, 0.5361, 0.5228, 0.5089, 0.4338, 0.3881, 0.4085, 0.4136, 0.3825,
         0.3669, 0.4005, 0.3815, 0.3090, 0.3144, 0.2855, 0.3186, 0.2587, 0.2322, 0.2112, 0.1719, 0.2019, 0.1358, 0.1460,
         0.1070, 0.1397, 0.1171, 0.1060, 0.1016, 0.0946, 0.0696, 0.0607, 0.0784, 0.0861, 0.0574, 0.0495, 0.0376, 0.0641,
         0.0561, 0.0521, 0.0506, 0.0452, 0.0281, 0.0337, 0.0286, 0.0298, 0.0298, 0.0290, 0.0211, 0.0086, 0.0161, 0.0068,
         0.0130, 0.0110, 0.0095, 0.0138, 0.0053, 0.0100, 0.0083, 0.0033, 0.0024, 0.0095, 0.0078, 0.0031, 0.0048, 0.0074,
         0.0027, 0.0015, 0.0035, 0.0023, 0.0035, 0.0016, 0.0026, 0.0009, 0.0014, 0.0017, 0.0013, 0.0017, 0.0015, 0.0015,
         0.0022, 0.0003, 0.0013, 0.0001, 0.0008, 0.0005, 0.0004, 0.0008, 0.0001, 0.0005, 0.0001, 0.0001, 0.0003, 0.0000,
         0.0002, 0.0004, 0.0003, 0.0001, 0.0001, 0.0001, 0.0002, 0.0000, 0.0001, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0001, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000])

    x_5mb = [i / (len(y_5mb) - 1) * 100 for i in range(len(y_5mb))]
    x_25mb = [i / (len(y_25mb) - 1) * 100 for i in range(len(y_25mb))]

    plt.plot(x_5mb, y_5mb, label="file size=5MB")
    plt.plot(x_25mb, y_25mb, label="file size=25MB")
    plt.plot(x_25mb, y_125mb, label="file size=125MB")
    plt.xlim([0, 100])
    plt.xlabel('Percentage of Parity Loss')
    plt.ylabel('Best Effort Recovery Rate')
    plt.title("Data All Missing and Part of Parity Missing")
    plt.legend(loc='upper right')
    if save is False:
        plt.show()
    else:
        plt.savefig('results/different_file_size_best_effort.png', bbox_inches='tight')
        plt.clf()


def recovery_likelihood(save):
    y_5mb = np.array(
        [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9900, 1.0000, 0.9800, 0.9800, 0.9200,
         0.9400, 0.8400, 0.8500, 0.8600, 0.7700, 0.6600, 0.6900, 0.4500, 0.5200, 0.2300, 0.2200, 0.1400, 0.0500, 0.0100,
         0.0100, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000])
    y_25mb = np.array(
        [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9900, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9900,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9900, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 0.9600, 0.9900, 0.9900, 0.9900, 0.9900, 0.9700, 1.0000, 0.9700, 0.9900, 0.9800, 0.9700, 1.0000,
         0.9700, 0.9900, 0.9700, 0.9700, 0.9700, 0.9800, 0.9600, 0.9600, 0.9600, 0.9700, 0.9800, 1.0000, 0.9800, 0.9400,
         0.9300, 0.9700, 0.9900, 0.9800, 0.8700, 0.9000, 0.8500, 0.9300, 0.8800, 0.9000, 0.9300, 0.8900, 0.9000, 0.8600,
         0.8400, 0.8300, 0.7800, 0.7900, 0.7700, 0.8100, 0.8100, 0.7400, 0.7400, 0.7800, 0.7100, 0.7100, 0.6800, 0.6700,
         0.6200, 0.6200, 0.6300, 0.5300, 0.5100, 0.5500, 0.5900, 0.4800, 0.4000, 0.4400, 0.3100, 0.4800, 0.3200, 0.2800,
         0.3000, 0.2300, 0.2800, 0.2100, 0.1600, 0.1200, 0.1500, 0.1800, 0.0500, 0.1000, 0.1000, 0.0200, 0.0400, 0.0500,
         0.0100, 0.0100, 0.0100, 0.0200, 0.0200, 0.0100, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000])
    y_125mb = np.array(
        [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000,
         1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 0.9900, 1.0000, 0.9900, 1.0000, 0.9900, 0.9900, 0.9900, 1.0000,
         0.9900, 0.9900, 1.0000, 0.9900, 1.0000, 0.9900, 1.0000, 0.9900, 0.9900, 0.9900, 0.9900, 0.9700, 0.9600, 1.0000,
         0.9800, 0.9900, 0.9800, 0.9700, 0.9900, 0.9800, 0.9500, 0.9500, 0.9700, 0.9300, 0.9700, 0.9500, 0.9500, 1.0000,
         0.8800, 0.9100, 0.9300, 0.8800, 0.9200, 0.9600, 0.9100, 0.9100, 0.8800, 0.8500, 0.8200, 0.7900, 0.8000, 0.8300,
         0.8600, 0.8000, 0.7500, 0.8100, 0.7500, 0.6900, 0.7000, 0.6200, 0.5600, 0.6200, 0.6400, 0.5700, 0.5900, 0.5600,
         0.4100, 0.3900, 0.3900, 0.4300, 0.2900, 0.3200, 0.2100, 0.1800, 0.2800, 0.2400, 0.2100, 0.2300, 0.1900, 0.1600,
         0.1100, 0.0800, 0.1100, 0.0400, 0.0800, 0.0400, 0.0400, 0.0400, 0.0200, 0.0000, 0.0100, 0.0000, 0.0100, 0.0000,
         0.0000, 0.0000, 0.0100, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,
         0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000])

    x_5mb = [i / (len(y_5mb) - 1) * 100 for i in range(len(y_5mb))]
    x_25mb = [i / (len(y_25mb) - 1) * 100 for i in range(len(y_25mb))]

    plt.plot(x_5mb, y_5mb, label="file size=5MB")
    plt.plot(x_25mb, y_25mb, label="file size=25MB")
    plt.plot(x_25mb, y_125mb, label="file size=125MB")
    plt.xlim([0, 100])
    plt.xlabel('Percentage of Parity Loss')
    plt.ylabel('Full File Recovery Likelihood')
    plt.title("Data All Missing and Part of Parity Missing")
    plt.legend(loc='upper right')
    if save is False:
        plt.show()
    else:
        plt.savefig('results/different_file_size_recovery_likelihood.png', bbox_inches='tight')
        plt.clf()
