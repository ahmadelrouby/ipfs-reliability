import matplotlib.pyplot as plt
import numpy as np


def overhead(save):
    raw = [0.0000, 1.9500, 3.8900, 5.8000, 7.6800, 9.6100, 11.5200, 13.3000, 15.0400, 16.7800, 18.6200, 20.1700,
           22.2100, 23.8700, 25.5900, 27.4100, 29.0200, 30.6200, 32.3600, 33.8400, 35.3100, 37.0200, 38.5000, 40.0700,
           41.7000, 43.2500, 44.1300, 46.0200, 47.3600, 49.0400, 50.3500, 51.6200, 53.0100, 54.6500, 55.6700, 56.4400,
           58.2700, 59.9000, 60.3800, 61.9500, 63.1400, 64.5400, 65.2600, 66.3900, 68.0000, 68.2300, 70.4200, 71.1100,
           72.4000, 73.3400, 74.4000, 75.2700, 75.8300, 76.8900, 78.6100, 79.0700, 80.3800, 80.9300, 82.1700, 82.5800,
           83.5800, 84.8300, 84.9900, 85.7900, 86.5500, 87.3600, 88.0900, 89.1100, 89.5700, 90.0100, 90.7900, 91.0200,
           91.7400, 92.6200, 92.6700, 93.8400, 93.9600, 94.3500, 94.8900, 95.5400, 96.0400, 96.2800, 96.6000, 97.1400,
           97.5000, 97.9200, 98.1700, 98.3700, 98.8400, 99.3400, 99.4200, 99.6800, 99.8600, 100.0600, 100.1800,
           100.4700, 100.5300, 100.6500, 100.8100, 100.8700, 100.9800, 101.0000]
    all_data = [r / 101 for r in raw]
    y_data = np.array(all_data)
    x_data = [i / (len(y_data) - 1) * 100 for i in range(len(y_data))]

    plt.plot(x_data, y_data, label="Only data loss")
    plt.xlim([0, 100])
    plt.ylim(0)
    plt.xlabel('Percentage of Data Loss')
    plt.ylabel('Average Download Parity Blocks Ratio')
    plt.title("Part of Data Missing and All Parity Present")
    if save is False:
        plt.show()
    else:
        plt.savefig('results/only_data_overhead.png', bbox_inches='tight')
        plt.clf()
